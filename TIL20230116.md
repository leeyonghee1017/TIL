# 테이블과 뷰
## 1. 테이블 생성
### 1) 테이블 생성
```bash
create table 테이블명 (
    컬럼명 타입(길이) [not null] [primary key],
    컬럼명 타입(길이) [not null],
    [foreign key references 테이블명(컬럼명)]
);
```
### 2) 제약 조건
- 제약 조건 설정 이유
  - 데이터 무결성을 확보하기 위해 데이터 입력 시 적용되는 조건 설정
- 6가지 제약 조건
  - primary key : 기본키
  - foreign key : 외래키
  - unique key : 유일키
  - check : 입력 데이터 점검
  - default 정의 : 자동입력 기본값
  - null 허용 : null 허용 여부
----
- **primary key**
  - 테이블내 데이터를 구분할 수 있는 식별자
  - 데이터 중복 불가, null값 불가
  - 두개 이상의 컬럼을 조합하여 pk 설정 가능
  - primary key 생성
    - 테이블 생성 시 컬럼을 primary key로 지정
    - 테이블 생성 시 `constraint primary key` (컬럼1, 컬럼2, ...) 사용
    - `alter table` 테이블명 `add primary key` (컬럼1, 컬림2, ...) 사용
  - primary key 삭제
      ```bash
      alter table 테이블명
          drop primary key;
      ```
  - primary key 확인 (테이블 index 정보 조회)
      ```bash
          show index from 테이블명;
      ```
----
- **foreign key**
  - 두 테이블 사이의 관계 선언으로 무결성 보장
  - 외래 키 테이블에 데이터 입력 시 기준 테이블에 데이터 반드시 존재해야함
  - 외래키 테이블의 컬럼이 참조하는 기준 테이블의 컬럼 조건
    - primary key 컬럼
    - unique 제약 조건 설정된 컬럼
  - foreign key 생성
    - 테이블 생성시
        ```bash
        create table 테이블명(
            컬럼설정,
            constraint 외래키명 foreign key (컬럼명)
                references 기준테이블명 (기준테이블 컬럼명)
        );
        ```
    - 테이블 생성 후
        ```bash
        alter table 테이블명
            add constraint 외래키명 foreign key (컬럼명)
                references 기준테이블명 (기준테이블 컬럼명);
        ```
  - foreign key 삭제
    ```bash
    alter table 테이블명
        drop constraint 외래키명;
    ```
  - on update cascade, on delete cascade
    >기준 테이블 데이터 수정, 삭제 시 외래 키 테이블도 동시에 적용 받음
    ```bash
    alter table 테이블명
        add constraint 외래키명 foreign key (컬럼명)
            references 기준테이블명 (기준테이블 컬럼명)
            on update cascade
            on delete cascade;
    ```
----
- **unique key**
  - 중복되지 않는 유일한 값만 허용
  - null값 허용함 : primary key와의 차이점 (예 : 이메일 주소)
  - unique key 설정
    - 테이블 생성 시 컬럼을 unique key로 설정
    - 테이블 생성 후 설정
        ```bash
        alter table 테이블명
            add constraint 유니크키명 unique key (컬럼명);
        ```
----
- **check**
  - 입력되는 데이터를 점검
  - 데이터 입력 조건을 설정하여 조건에 부합하는 데이터만 저장 가능함
  - check 설정
    - 테이블 생성 시 컬럼에 `check (조건식)` 으로 설정
    - 테이블 생성 후 설정
        ```bash
        alter table 테이블명
            add constraint 체크명
            check (조건식);
        ```
----
- **default**
  - 값 없이 입력 했을 경우 자동으로 입력되는 기본값 정의
  - default 설정
    - 테이블 생성 시 컬럼에 `default 컬럼값` 설정
    - 테이블 생성 후 설정
        ```bash
        alter table 테이블명
            alter column 컬럼명 set default 컬럼값;
        ```
    - 데이터 insert 시 default 컬럼의 value값에 default 라고 입력하면 기본값 저장됨
----
- **null**
  - null : null 값 허용
  - not null : null 값 사용 불가
  - null 설정
    - 테이블 생성 시 컬럼에 `null | not null` 설정
    - 테이블 생성 후 설정
        ```bash
        alter table 테이블명
            modify column 컬럼명 컬럼타입(컬럼길이) null | not null;
        ```
        

